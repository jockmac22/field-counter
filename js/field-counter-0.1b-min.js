var console=console||{info:function(){}};$.fn.fieldCounter=function(e){$(this).each(function(){$.fieldCounter.init($(this),e)})};$.fieldCounter={init:function(e,t){var n={counter:e,field:null,limit:0,format:"#count#/#limit# (#words# words)"},r={};e.data("field")&&(r.field=$("#"+e.data("field")));e.data("limit")&&(r.limit=parseInt(e.data("limit"),10));e.data("format")&&(r.format=e.data("format"));t=$.extend({},n,t,r);var i=t.field;i.data("counter-data",t);i.keyup(function(){var e=$(this),t=e.data("counter-data"),n=e.val().length;if(t.limit>0&&n>t.limit){e.val(e.val().substr(0,t.limit));$.fieldCounter.updateCounter(i);return!1}$.fieldCounter.updateCounter(i)});$.fieldCounter.updateCounter(i)},updateCounter:function(e){var t=e.data("counter-data"),n=e.val(),r=n.length,i=n.replace(/[\-\,\\\:]+/g," ").replace(/\.+/g,"").replace(/\s+/," ").split(" ").length;if(t.counter){var s=t.format.replace(/#count#/g,r).replace(/#limit#/g,t.limit).replace(/#words#/g,i);t.counter.html(s)}}};$(document).ready(function(){$(".fieldCounter").fieldCounter()});